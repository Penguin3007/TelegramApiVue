/*! rusha 2020-01-05 */
var util={getDataType:function(a){if(typeof a==="string"){return"string"}if(a instanceof Array){return"array"}if(typeof global!=="undefined"&&global.Buffer&&global.Buffer.isBuffer(a)){return"buffer"}if(a instanceof ArrayBuffer){return"arraybuffer"}if(a.buffer instanceof ArrayBuffer){return"view"}if(a instanceof Blob){return"blob"}throw new Error("Unsupported data type.")}};function Rusha(a){"use strict";var b={fill:0};var c=function(a){for(a+=9;a%64>0;a+=1);return a};var d=function(a,b){for(var c=b>>2;c<a.length;c++)a[c]=0};var e=function(a,b,c){a[b>>2]|=128<<24-(b%4<<3);a[((b>>2)+2&~15)+14]=c/(1<<29)|0;a[((b>>2)+2&~15)+15]=c<<3};var f=function(a,b,c,d,e){var f=this,g,h=e%4,i=d%4,j=d-i;if(j>0){switch(h){case 0:a[e+3|0]=f.charCodeAt(c);case 1:a[e+2|0]=f.charCodeAt(c+1);case 2:a[e+1|0]=f.charCodeAt(c+2);case 3:a[e|0]=f.charCodeAt(c+3)}}for(g=h;g<j;g=g+4|0){b[e+g>>2]=f.charCodeAt(c+g)<<24|f.charCodeAt(c+g+1)<<16|f.charCodeAt(c+g+2)<<8|f.charCodeAt(c+g+3)}switch(i){case 3:a[e+j+1|0]=f.charCodeAt(c+j+2);case 2:a[e+j+2|0]=f.charCodeAt(c+j+1);case 1:a[e+j+3|0]=f.charCodeAt(c+j)}};var g=function(a,b,c,d,e){var f=this,g,h=e%4,i=d%4,j=d-i;if(j>0){switch(h){case 0:a[e+3|0]=f[c];case 1:a[e+2|0]=f[c+1];case 2:a[e+1|0]=f[c+2];case 3:a[e|0]=f[c+3]}}for(g=4-h;g<j;g=g+=4|0){b[e+g>>2]=f[c+g]<<24|f[c+g+1]<<16|f[c+g+2]<<8|f[c+g+3]}switch(i){case 3:a[e+j+1|0]=f[c+j+2];case 2:a[e+j+2|0]=f[c+j+1];case 1:a[e+j+3|0]=f[c+j]}};var h=function(a,b,c,d,e){var f=this,g,h=e%4,i=d%4,j=d-i;var k=new Uint8Array(reader.readAsArrayBuffer(f.slice(c,c+d)));if(j>0){switch(h){case 0:a[e+3|0]=k[0];case 1:a[e+2|0]=k[1];case 2:a[e+1|0]=k[2];case 3:a[e|0]=k[3]}}for(g=4-h;g<j;g=g+=4|0){b[e+g>>2]=k[g]<<24|k[g+1]<<16|k[g+2]<<8|k[g+3]}switch(i){case 3:a[e+j+1|0]=k[j+2];case 2:a[e+j+2|0]=k[j+1];case 1:a[e+j+3|0]=k[j]}};var i=function(a){switch(util.getDataType(a)){case"string":return f.bind(a);case"array":return g.bind(a);case"buffer":return g.bind(a);case"arraybuffer":return g.bind(new Uint8Array(a));case"view":return g.bind(new Uint8Array(a.buffer,a.byteOffset,a.byteLength));case"blob":return h.bind(a)}};var j=function(a,b){switch(util.getDataType(a)){case"string":return a.slice(b);case"array":return a.slice(b);case"buffer":return a.slice(b);case"arraybuffer":return a.slice(b);case"view":return a.buffer.slice(b)}};var k=new Array(256);for(var l=0;l<256;l++){k[l]=(l<16?"0":"")+l.toString(16)}var m=function(a){var b=new Uint8Array(a);var c=new Array(a.byteLength);for(var d=0;d<c.length;d++){c[d]=k[b[d]]}return c.join("")};var n=function(a){var b;if(a<=65536)return 65536;if(a<16777216){for(b=1;b<a;b=b<<1);}else{for(b=16777216;b<a;b+=16777216);}return b};var o=function(a){if(a%64>0){throw new Error("Chunk size must be a multiple of 128 bit")}b.maxChunkLen=a;b.padMaxChunkLen=c(a);b.heap=new ArrayBuffer(n(b.padMaxChunkLen+320+20));b.h32=new Int32Array(b.heap);b.h8=new Int8Array(b.heap);b.core=new Rusha._core({Int32Array:Int32Array,DataView:DataView},{},b.heap);b.buffer=null};o(a||64*1024);var p=function(a,b){var c=new Int32Array(a,b+320,5);c[0]=1732584193;c[1]=-271733879;c[2]=-1732584194;c[3]=271733878;c[4]=-1009589776};var q=function(a,f){var g=c(a);var h=new Int32Array(b.heap,0,g>>2);d(h,a);e(h,a,f);return g};var r=function(a,c,d){i(a)(b.h8,b.h32,c,d,0)};var s=function(a,c,d,e,f){var g=d;if(f){g=q(d,e)}r(a,c,d);b.core.hash(g,b.padMaxChunkLen)};var t=function(a,b){var c=new Int32Array(a,b+320,5);var d=new Int32Array(5);var e=new DataView(d.buffer);e.setInt32(0,c[0],false);e.setInt32(4,c[1],false);e.setInt32(8,c[2],false);e.setInt32(12,c[3],false);e.setInt32(16,c[4],false);return d};var u=this.rawDigest=function(a){var c=a.byteLength||a.length||a.size||0;p(b.heap,b.padMaxChunkLen);var d=0,e=b.maxChunkLen,f;for(d=0;c>d+e;d+=e){s(a,d,e,c,false)}s(a,d,c-d,c,true);return t(b.heap,b.padMaxChunkLen)};this.digest=this.digestFromString=this.digestFromBuffer=this.digestFromArrayBuffer=function(a){return m(u(a).buffer)}}Rusha._core=function a(b,c,d){"use asm";var e=new b.Int32Array(d);function f(a,b){a=a|0;b=b|0;var c=0,d=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0;f=e[b+320>>2]|0;h=e[b+324>>2]|0;j=e[b+328>>2]|0;l=e[b+332>>2]|0;n=e[b+336>>2]|0;for(c=0;(c|0)<(a|0);c=c+64|0){g=f;i=h;k=j;m=l;o=n;for(d=0;(d|0)<64;d=d+4|0){q=e[c+d>>2]|0;p=((f<<5|f>>>27)+(h&j|~h&l)|0)+((q+n|0)+1518500249|0)|0;n=l;l=j;j=h<<30|h>>>2;h=f;f=p;e[a+d>>2]=q}for(d=a+64|0;(d|0)<(a+80|0);d=d+4|0){q=(e[d-12>>2]^e[d-32>>2]^e[d-56>>2]^e[d-64>>2])<<1|(e[d-12>>2]^e[d-32>>2]^e[d-56>>2]^e[d-64>>2])>>>31;p=((f<<5|f>>>27)+(h&j|~h&l)|0)+((q+n|0)+1518500249|0)|0;n=l;l=j;j=h<<30|h>>>2;h=f;f=p;e[d>>2]=q}for(d=a+80|0;(d|0)<(a+160|0);d=d+4|0){q=(e[d-12>>2]^e[d-32>>2]^e[d-56>>2]^e[d-64>>2])<<1|(e[d-12>>2]^e[d-32>>2]^e[d-56>>2]^e[d-64>>2])>>>31;p=((f<<5|f>>>27)+(h^j^l)|0)+((q+n|0)+1859775393|0)|0;n=l;l=j;j=h<<30|h>>>2;h=f;f=p;e[d>>2]=q}for(d=a+160|0;(d|0)<(a+240|0);d=d+4|0){q=(e[d-12>>2]^e[d-32>>2]^e[d-56>>2]^e[d-64>>2])<<1|(e[d-12>>2]^e[d-32>>2]^e[d-56>>2]^e[d-64>>2])>>>31;p=((f<<5|f>>>27)+(h&j|h&l|j&l)|0)+((q+n|0)-1894007588|0)|0;n=l;l=j;j=h<<30|h>>>2;h=f;f=p;e[d>>2]=q}for(d=a+240|0;(d|0)<(a+320|0);d=d+4|0){q=(e[d-12>>2]^e[d-32>>2]^e[d-56>>2]^e[d-64>>2])<<1|(e[d-12>>2]^e[d-32>>2]^e[d-56>>2]^e[d-64>>2])>>>31;p=((f<<5|f>>>27)+(h^j^l)|0)+((q+n|0)-899497514|0)|0;n=l;l=j;j=h<<30|h>>>2;h=f;f=p;e[d>>2]=q}f=f+g|0;h=h+i|0;j=j+k|0;l=l+m|0;n=n+o|0}e[b+320>>2]=f;e[b+324>>2]=h;e[b+328>>2]=j;e[b+332>>2]=l;e[b+336>>2]=n}return{hash:f}};if(typeof module!=="undefined"){module.exports=Rusha}else if(typeof window!=="undefined"){window.Rusha=Rusha}if(typeof FileReaderSync!=="undefined"){var reader=new FileReaderSync,hasher=new Rusha(4*1024*1024);self.onmessage=function a(b){var c,d=b.data.data;try{c=hasher.digest(d);self.postMessage({id:b.data.id,hash:c})}catch(a){self.postMessage({id:b.data.id,error:a.name})}}}